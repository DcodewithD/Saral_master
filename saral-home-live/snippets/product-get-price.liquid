<!-- snippets/product-get-price.liquid -->

{%- if compare_at_price > price -%}
  <span class="ps"></span> <span class="prs">{{ price | money }}</span>
  <span class="price price--sale" data-js-product-price
    ><span class="cmp">{{ compare_at_price | money }}</span>
    {%- if settings.price_show_sale_separator -%}
      {{- 'products.product.price_sale_separator' | t }}
    {% endif -%}
  </span>
{%- else -%}
  <span class="ps"></span
  ><span class="price" data-js-product-price
    ><span class="prs">{% if price > 0 %}{{ price | money }} {% endif %}</span></span 
  >
{%- endif -%}
{%- if current_variant.unit_price_measurement -%}
  <span class="price-unit d-block mt-5">
    <label class="d-none">{{ 'products.product.unit_price_label' | t }}</label>
    <span class="price-unit__price">
      {%- capture unit_price_separator -%}
                <span> / </span><span class="d-none"> {{ 'general.accessibility.unit_price_separator' | t }}&nbsp; </span>
            {%- endcapture -%}
      {%- capture unit_price_base_unit -%}
                <span>
                {%- if current_variant.unit_price_measurement -%}
                    {%- if current_variant.unit_price_measurement.reference_value != 1 -%}
                        {{- current_variant.unit_price_measurement.reference_value -}}
                    {%- endif -%}
                    {{ current_variant.unit_price_measurement.reference_unit }}
                {%- endif -%}
              </span>
            {%- endcapture -%}
      (<span>{{ current_variant.unit_price | money }}</span>
      {{- unit_price_separator -}}
      {{- unit_price_base_unit -}}
      )
    </span>
  </span>
{%- endif -%}
