{% include 'global-variables' %}
<div class="flash-sale-no-padding section-width section-padding ">
  <div class="section-content section-wrap flash-sale-section-wrap">
    <div class = "">
        <div class="section-head">
          <div class="section-head-left">
            <span class="title_box">
              <h1 style="margin-right: 10px;" class="flash-sale-main-heading">{{ section.settings.heading }}</h1>
              <span>{{ section.settings['sub-heading-1'] }}</span></span
            >
            <div class="flash-sale-sub-heading">
              <h2 class="sub-heading-1">
                <span>{{ section.settings['sub-heading-2'] }}</span>
              </h2>
            </div>
          </div>
        </div>
        <carousel-products data-section-id="{{ section.id }}" data-section-type="carousel-products">
            <div class="product-recommendations flash-sale-cards-wrapper category-block-cards-wrapper" data-product-id="{{ product.id }}" data-limit="4">
                {%- if recommendations.products_count > 0 -%}      
                    {%- for product in recommendations.products limit: 4 -%}
                                {% render 'product-card_new', product: product %}
                    {%- endfor -%}                      
                  {%- endif -%}
              </div>
        </carousel-products>
      </div>
    </div>
  </div>


<script>
    theme.AssetsLoader.require('scripts', 'carousel_products');
</script>


{% schema %}
{
    "name": "Related product Section",
    "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        },
        {
          "type": "text",
          "id": "sub-heading-1",
          "label": "Sub Heading-1"
        },
        {
          "type": "text",
          "id": "sub-heading-2",
          "label": "Sub Heading-2"
        }
    ],
  "presets": [
{
"name": "related-product-section",
"category": "ADVANCED LAYOUT"
}
]
}
{% endschema %}