{% liquid
  assign count = 0
  for block in section.blocks
    unless block.settings.image1 == blank
      assign count = count | plus: 1
    endunless
  endfor
%}

<style>
      /* .category-carousel .slide .card-image-wrap {
      border-radius: 20px;
  } */
    /* .category-carousel .slide img {
      border-radius: 20px;
  } */
                .category-carousel .slide {
                  position: relative;
              }

    {% if count == 6 %}

              .category-carousel .slide {
                position: relative;
                flex: 0 0 calc(100%/6 - 25px*5/6)!important;
                max-width: calc(100%/6 - 25px*5/6)!important;
            }

            .category-carousel-inner {
                display: flex;
                align-items: center;
                gap: 25px!important;
              justify-content: space-between;
                   overflow-x: auto;
            }
       {% elsif count == 7 %}

              .category-carousel .slide {
                position: relative;
                flex: 0 0 calc(100%/7 - 20px*6/7)!important;
                max-width: calc(100%/7 - 20px*6/7)!important;
            }

            .category-carousel-inner {
                display: flex;
                align-items: center;
                gap: 25px!important;
              justify-content: space-between;
                   overflow-x: auto;
            }
    {% elsif count == 3 %}
                  .category-carousel .slide {
                position: relative;
                flex: 0 0 calc(100%/3 - 25px*2/3)!important;
                max-width: calc(100%/3 - 25px*2/3)!important;
            }

            .category-carousel-inner {
                display: flex;
                align-items: center;
                gap: 25px!important;
              justify-content: space-between;
                   overflow-x: auto;
            }
       {% elsif count == 4 %}
                  .category-carousel .slide {
                position: relative;
                flex: 0 0 calc(100%/4 - 20px*2/4)!important;
                max-width: calc(100%/4 - 20px*2/4)!important;
            }

            .category-carousel-inner {
                display: flex;
                align-items: center;
                gap: 25px!important;
              justify-content: space-between;
                   overflow-x: auto;
            }
    {% elsif count == 2 %}
                     .category-carousel .slide {
                position: relative;
                flex: 0 0 calc(100%/2 - 25px*1/2)!important;
                max-width: calc(100%/2 - 25px*1/2)!important;
            }

            .category-carousel-inner {
                display: flex;
                align-items: center;
                gap: 25px!important;
              justify-content: space-between;
                   overflow-x: auto;
            }
    {% endif %}

          .category-carousel .slide:hover img {
            -webkit-animation: .5s bounceIn;
            -o-animation: .5s bounceIn;
            animation: .5s bounceIn
        }

        @-webkit-keyframes bounceIn {

            20%,
            40%,
            60%,
            80%,
            from,
            to {
                -webkit-animation-timing-function: cubic-bezier(.215, .61, .355, 1);
                animation-timing-function: cubic-bezier(.215, .61, .355, 1)
            }

            0% {
                opacity: 0;
                -webkit-transform: scale3d(.3, .3, .3);
                transform: scale3d(.3, .3, .3)
            }

            20% {
                -webkit-transform: scale3d(1.1, 1.1, 1.1);
                transform: scale3d(1.1, 1.1, 1.1)
            }

            40% {
                -webkit-transform: scale3d(.9, .9, .9);
                transform: scale3d(.9, .9, .9)
            }

            60% {
                opacity: 1;
                -webkit-transform: scale3d(1.03, 1.03, 1.03);
                transform: scale3d(1.03, 1.03, 1.03)
            }

            80% {
                -webkit-transform: scale3d(.97, .97, .97);
                transform: scale3d(.97, .97, .97)
            }

            to {
                opacity: 1;
                -webkit-transform: scale3d(1, 1, 1);
                transform: scale3d(1, 1, 1)
            }
        }

        @keyframes bounceIn {

            20%,
            40%,
            60%,
            80%,
            from,
            to {
                -webkit-animation-timing-function: cubic-bezier(.215, .61, .355, 1);
                animation-timing-function: cubic-bezier(.215, .61, .355, 1)
            }

            0% {
                opacity: 0;
                -webkit-transform: scale3d(.3, .3, .3);
                transform: scale3d(.3, .3, .3)
            }

            20% {
                -webkit-transform: scale3d(1.1, 1.1, 1.1);
                transform: scale3d(1.1, 1.1, 1.1)
            }

            40% {
                -webkit-transform: scale3d(.9, .9, .9);
                transform: scale3d(.9, .9, .9)
            }

            60% {
                opacity: 1;
                -webkit-transform: scale3d(1.03, 1.03, 1.03);
                transform: scale3d(1.03, 1.03, 1.03)
            }

            80% {
                -webkit-transform: scale3d(.97, .97, .97);
                transform: scale3d(.97, .97, .97)
            }

            to {
                opacity: 1;
                -webkit-transform: scale3d(1, 1, 1);
                transform: scale3d(1, 1, 1)
            }
        }
            .fix_padding{
            padding:50px 120px 0px;
              /* margin-top: 50px; */
          }
.category-carousel .slide h3 {
font-size: 18px;
text-align: center;
position: absolute;
bottom: 20px;
left: 50%;
transform: translateX(-50%);
width: max-content;
background: #fff;
margin: 0px;
padding: 10px;
border-radius: 20px;
display: none;
}
.category-carousel .slide h3 p{
  margin: 0px;
  color: #000;
}
.category-carousel .slide h3 p span{
  margin: 0px;
  color: #000;
}
        @media(max-width:768px){
            .fix_padding{
            padding:20px 16px 0px!important;
              /* margin-top: 25px; */
          }
          {% if count == 2 %}
                  .category-carousel .slide {
                position: relative;
                flex: 0 0 calc(100%/2 - 25px/2)!important;
                max-width: calc(100%/2 - 25px/2)!important;
            }

          {% elsif count > 2 %}
                            .category-carousel .slide {
                position: relative;
                flex: 0 0 calc(80%/2 - 25px/2)!important;
                max-width: calc(80%/2 - 25px/2)!important;
            }
          {% endif %}
          .category-carousel.fix_padding .custom-slide-init {
        padding-bottom: 30px;
    }
        }
  @media(max-width:786px)
  {
    .homepage_slider {
    margin-top: 0px !important;
}
  }
</style>
{% assign collectionList = 'yogamats,carpet-for-living-room,rugs,cushions,sofa-cover,table-mat,door-mat,combo,bedcovers,fun-kids,rugs-carpets,sofa-cushion-covers,mats,covers-quilts,paw-patrol,peppa-pig,baby-shark,unicorn,shape-mat,saral-home-dinosaur,transformer,bedding,bathmat' %}
{% if collectionList contains collection.handle %}
  <div class="category-carousel fix_padding">
    <h2 class="hed">{{ section.settings.section_heading }}</h2>
    <div class="category-carousel-inner">
      {% for block in section.blocks %}
        {%- unless block.settings.image1 == blank -%}
          {% assign count = count | plus: 1 %}
          <div class="slide">
            {% assign media = block.settings.image2 %}
            <div
              class="card-image-wrap desktop"
              style="position:relative;overflow:hidden;background-color:ghostwhite;padding-bottom:{{ 1 | divided_by : media.aspect_ratio | times : 100 }}%"
            >
              <img
                loading="lazy"
                srcset="
                  {%- if media.width >= 165 -%}{{ media | image_url: width: 1000 }} 1000w,{%- endif -%}
                  {%- if media.width >= 360 -%}{{ media | image_url: width: 2000 }} 2000w,{%- endif -%}
                  {%- if media.width >= 533 -%}{{ media | image_url: width: 3000 }} 3000w,{%- endif -%}
                  {%- if media.width >= 720 -%}{{ media | image_url: width: 4000 }} 4000w,{%- endif -%}
                  {%- if media.width >= 940 -%}{{ media | image_url: width: 5000 }} 5000w,{%- endif -%}
                  {%- if media.width >= 1066 -%}{{ media | image_url: width: 6000 }} 6000w,{%- endif -%}
                  {{ media | image_url }} {{ media.width }}w
                "
                src="{{ media | image_url: width: 533 }}"
                alt="{{ media.alt | escape }}"
                loading="lazy"
                sizes=" (min-width: 990px) calc((100vw) / 4), (min-width: 750px) calc((100vw ) / 3), calc((100vw ) / 2)"
                width="{{ card_media.width }}"
                height="{{ card_media.height }}"
                style="position:absolute;top:0px;left:0px;width:100%;height:auto"
              >
            </div>
            {% assign media = block.settings.image1 %}
            <div
              class="card-image-wrap mobile"
              style="position:relative;overflow:hidden;background-color:ghostwhite;padding-bottom:{{ 1 | divided_by : media.aspect_ratio | times : 100 }}%"
            >
              <img
                loading="lazy"
                srcset="
                  {%- if media.width >= 165 -%}{{ media | image_url: width: 500 }} 500w,{%- endif -%}
                  {%- if media.width >= 360 -%}{{ media | image_url: width: 1000 }} 1000w,{%- endif -%}
                  {%- if media.width >= 533 -%}{{ media | image_url: width: 1500 }} 1500w,{%- endif -%}
                  {%- if media.width >= 720 -%}{{ media | image_url: width: 2000 }} 2000w,{%- endif -%}
                  {%- if media.width >= 940 -%}{{ media | image_url: width: 2500 }} 2500w,{%- endif -%}
                  {%- if media.width >= 1066 -%}{{ media | image_url: width: 3000 }} 3000w,{%- endif -%}
                  {{ media | image_url }} {{ media.width }}w
                "
                src="{{ media | image_url: width: 533 }}"
                alt="{{ media.alt | escape }}"
                loading="lazy"
                sizes=" (min-width: 990px) calc((100vw) / 4), (min-width: 750px) calc((100vw ) / 3), calc((100vw ) / 2)"
                width="{{ card_media.width }}"
                height="{{ card_media.height }}"
                style="position:absolute;top:0px;left:0px;width:100%;height:auto"
              >
            </div>
            <h3>{{ block.settings.image_label }}</h3>
            <a class="url" href="{{ block.settings.image_url }}"></a>
          </div>
        {% endunless %}
      {% endfor %}
    </div>
  </div>
{% endif %}
{% schema %}
  {
    "name": "category-carousel",
    "settings": [
          {
    "type":"text",
    "label":"section heading",
    "id":"section_heading"
  }
    ],
    "blocks": [
{
      "type":"slide",
      "name":"slide",
      "settings":[
                {
          "type":"image_picker",
          "label":"Desktop Category image",
          "id":"image2"
        },
        {
          "type":"image_picker",
          "label":"Category image",
          "id":"image1"
        },
              {
    "type":"richtext",
    "label":"image label",
    "id":"image_label"
  },
        {
          "type":"url",
          "label":"Image url",
          "id":"image_url"
        }
      ]
    }
    ],
    "presets": [
{
"name": "category-carousel",
"category": "ADVANCED LAYOUT"
}
]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
