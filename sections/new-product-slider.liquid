<style>
    .new-product-slider {
      display: flex;
      align-items: center;
          background: #FAF8F5;
          padding: 40px 120px;
      margin: 60px 0px;
  }

  .new-product-slider .banner {
      flex: 0 0 40%;
    position:relative;
  }

  .new-product-slider .product_slider_slider {
      flex: 0 0 60%;
      overflow: hidden;
  }

  .new-product-slider .sap {
      flex: 0 0 100%;
      margin-top: 20px!important;
  }

  .new-product-slider product-item.product-collection.d-block {
      flex: 0 0 33%!important;
      max-width: 33%!important;
  }

  .new-product-slider .product-collection__wrapper {
      margin-bottom: 0px!Important;
  }

  /* .new-product-slider .banner {
    position:relative;
  } */

  @media(max-width:768px){
  .new-product-slider {
      margin: 30px 0px;
      padding: 25px 16px;
      display: block;
  }

  .new-product-slider .product_slider_slider {
      margin-top: 30px;
  }

  .new-product-slider product-item.product-collection.d-block {
      flex: 0 0 80%!important;
      max-width: 80%!important;
  }
  }
</style>
<div class="new-product-slider">
  <div class="banner">
    {% comment %}   <img src="{{ section.settings.section_image  | image_url }}"> {% endcomment %}

    {% assign mob_image = section.settings.section_image %}
    {% assign desk_image = section.settings.section_image %}
    <div
      class="m-image"
      style="position:relative;padding-bottom:{{ 100 | divided_by : mob_image.aspect_ratio }}%"
    >
      <img
        loading="lazy"
        style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)"
        srcset="
          {%- if mob_image.width >= 375 -%}{{ mob_image | image_url: width: 375 }} 350w,{%- endif -%}
          {%- if mob_image.width >= 750 -%}{{ mob_image | image_url: width: 375 }} 450w,{%- endif -%}
          {%- if mob_image.width >= 1100 -%}{{ mob_image | image_url: width: 400 }} 470w,{%- endif -%}
          {%- if mob_image.width >= 1500 -%}{{ mob_image | image_url: width: 425 }} 490w,{%- endif -%}
          {%- if mob_image.width >= 1780 -%}{{ mob_image | image_url: width: 450 }} 500w,{%- endif -%}
          {%- if mob_image.width >= 2000 -%}{{ mob_image | image_url: width: 500}} 500w,{%- endif -%}
          {%- if mob_image.width >= 3000 -%}{{ mob_image | image_url: width: 500 }} 500w,{%- endif -%}
          {%- if mob_image.width >= 3840 -%}{{ mob_image | image_url: width: 500 }} 500w,{%- endif -%}
          {{ mob_image | image_url }} {{ mob_image.width }}w
        "
        src="{{ mob_image | image_url: width: 400 }}"
        loading="lazy"
        alt="{{ mob_image.alt | escape }}"
        width="{{ mob_image.width }}"
        height="auto"
      >
      {% if block.settings.link != blank %}
        <a href="{{ block.settings.link }}" style="position:absolute;top:0px;left:0px;width:100%;height:100%;"></a>
      {% endif %}
    </div>
    <div
      class="d-image"
      style="position:relative;padding-bottom:{{ 100 | divided_by : desk_image.aspect_ratio }}%"
    >
      <img
        style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)"
        srcset="
          {%- if desk_image.width >= 375 -%}{{ desk_image | image_url: width: 375 }} 350w,{%- endif -%}
          {%- if desk_image.width >= 750 -%}{{ desk_image | image_url: width: 375 }} 450w,{%- endif -%}
          {%- if desk_image.width >= 1100 -%}{{ desk_image | image_url: width: 400 }} 470w,{%- endif -%}
          {%- if desk_image.width >= 1500 -%}{{ desk_image | image_url: width: 425 }} 490w,{%- endif -%}
          {%- if desk_image.width >= 1780 -%}{{ desk_image | image_url: width: 450 }} 500w,{%- endif -%}
          {%- if desk_image.width >= 2000 -%}{{ desk_image | image_url: width: 500}} 500w,{%- endif -%}
          {%- if desk_image.width >= 3000 -%}{{ desk_image | image_url: width: 500 }} 500w,{%- endif -%}
          {%- if desk_image.width >= 3840 -%}{{ desk_image | image_url: width: 500 }} 500w,{%- endif -%}
          {{ desk_image | image_url }} {{ desk_image.width }}w
        "
        src="{{ desk_image | image_url: width: 400 }}"
        loading="lazy"
        alt="{{ desk_image.alt | escape }}"
        width="{{ desk_image.width }}"
        height="auto"
      >
      {% if block.settings.link != blank %}
        <a href="{{ block.settings.link }}" style="position:absolute;top:0px;left:0px;width:100%;height:100%;"></a>
      {% endif %}
    </div>
    <a class="url" href="{{ section.settings.redirection_link }}"></a>
  </div>
  <div class="nps-1">
    <div class="product_slider_slider">
      {%- for product in section.settings.collect.products limit: 3 -%}
        {% include 'product-collection' with url_without_collection: true %}
      {%- endfor -%}
    </div>
    {% include 'shop-all-products', collection: section.settings.collect %}
  </div>
</div>
{% schema %}
{
"name": "new-product-slider",
"settings": [
  {
    "type":"collection",
    "label":"Choose-collection",
    "id":"collect"
  },
  {
    "type":"image_picker",
    "label":"Choose image",
    "id":"section_image"
  },
  {
    "type":"url",
    "label":"Redirection url",
    "id":"redirection_link"
  }
],
  "presets": [
    {
    "name": "new-product-slider"
    }
  ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
